{"ast":null,"code":"var _jsxFileName = \"/Users/linoyhorvat/Documents/bootcamp/Git/Projects/shoesApp/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport ShoeCard from \"./components/ShoeCard\";\nimport Input from \"./components/Input\";\nimport shoesApi from \"./api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      data: [],\n      name: \"\",\n      price: null,\n      size: null,\n      update: \"\"\n    };\n\n    this.handleCreate = async () => {\n      try {\n        let dataCopy = [...this.state.data];\n        const newShoe = {\n          name: this.state.name,\n          price: Number(this.state.price),\n          size: Number(this.state.size)\n        };\n        await shoesApi.post(\"/shoesApp/\", newShoe);\n        dataCopy.push(newShoe);\n        this.setState({\n          data: dataCopy\n        });\n      } catch (error) {}\n    };\n\n    this.handleDelete = async id => {\n      try {\n        const dataCopy = [...this.state.data];\n        const filteredData = dataCopy.filter(shoe => shoe.id !== id);\n        await shoesApi.delete(`/shoesApp/${id}`);\n        this.setState({\n          data: filteredData\n        });\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n\n    this.handleUpdate = async (id, name, price, size) => {\n      const dataCopy = [...this.state.data];\n      let shoeIdx = dataCopy.findIndex(shoe => {\n        return shoe.id === id;\n      });\n      const updatedItem = { ...dataCopy[shoeIdx],\n        name: name\n      };\n      console.log(`dataCopy = ${dataCopy[shoeIdx]}`);\n      dataCopy[shoeIdx] = updatedItem;\n      await shoesApi.put(`/shoesApp/${id}`, updatedItem);\n      this.setState({\n        data: dataCopy\n      });\n    };\n\n    this.handleInput = (objProp, e) => {\n      this.setState({\n        [objProp]: e\n      });\n    };\n\n    this.openUpdateOptions = id => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"hi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 7\n        }, this), this.handleUpdate(id, this.state.update)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.displayDataFromState = () => {\n      const {\n        data\n      } = this.state;\n      return data.map(shoe => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [console.log(shoe), /*#__PURE__*/_jsxDEV(ShoeCard, {\n            Delete: () => {\n              this.handleDelete(shoe.id);\n            },\n            Update: () => {\n              this.openUpdateOptions(shoe.id);\n            },\n            name: shoe.name,\n            size: shoe.size,\n            price: shoe.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            onChange: e => {\n              this.handleInput(\"update\", e.target.value);\n            },\n            label: \"Update name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 11\n          }, this)]\n        }, shoe.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this);\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      data\n    } = await shoesApi.get(\"shoesApp\");\n    this.setState({\n      data\n    }, () => {\n      console.log(this.state.data);\n      this.displayDataFromState();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Shoe App\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        onChange: e => {\n          this.handleInput(\"name\", e.target.value);\n        },\n        label: \"name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        onChange: e => {\n          this.handleInput(\"price\", e.target.value);\n        },\n        label: \"price\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        onChange: e => {\n          this.handleInput(\"size\", e.target.value);\n        },\n        label: \"size\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.handleCreate,\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), this.displayDataFromState()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/linoyhorvat/Documents/bootcamp/Git/Projects/shoesApp/src/App.js"],"names":["React","Component","ShoeCard","Input","shoesApi","App","state","data","name","price","size","update","handleCreate","dataCopy","newShoe","Number","post","push","setState","error","handleDelete","id","filteredData","filter","shoe","delete","console","log","message","handleUpdate","shoeIdx","findIndex","updatedItem","put","handleInput","objProp","e","openUpdateOptions","displayDataFromState","map","target","value","componentDidMount","get","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport ShoeCard from \"./components/ShoeCard\";\r\nimport Input from \"./components/Input\";\r\nimport shoesApi from \"./api\";\r\n\r\nclass App extends Component {\r\n  state = { data: [], name: \"\", price: null, size: null ,update: \"\" };\r\n\r\n  async componentDidMount() {\r\n    const { data } = await shoesApi.get(\"shoesApp\");\r\n    this.setState({ data }, () => {\r\n      console.log(this.state.data);\r\n      this.displayDataFromState();\r\n    });\r\n  }\r\n  handleCreate = async () => {\r\n    try {\r\n      let dataCopy = [...this.state.data];\r\n      const newShoe = {\r\n        name: this.state.name,\r\n        price: Number(this.state.price),\r\n        size: Number(this.state.size)\r\n        };\r\n      await shoesApi.post(\"/shoesApp/\", newShoe);\r\n      dataCopy.push(newShoe);\r\n      this.setState({ data: dataCopy });\r\n    } catch (error) {}\r\n  };\r\n\r\n  handleDelete = async (id) => {\r\n    try {\r\n      const dataCopy = [...this.state.data];\r\n      const filteredData = dataCopy.filter((shoe) => shoe.id !== id);\r\n      await shoesApi.delete(`/shoesApp/${id}`);\r\n      this.setState({ data: filteredData });\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  handleUpdate = async (id, name, price, size) => {\r\n    const dataCopy = [...this.state.data];\r\n    let shoeIdx = dataCopy.findIndex((shoe) => {\r\n      return shoe.id === id;\r\n    });\r\n    const updatedItem = {\r\n      ...dataCopy[shoeIdx],\r\n      name: name,\r\n    };\r\n    console.log(`dataCopy = ${dataCopy[shoeIdx]}`);\r\n    dataCopy[shoeIdx] = updatedItem;\r\n    await shoesApi.put(`/shoesApp/${id}`, updatedItem);\r\n    this.setState({ data: dataCopy });\r\n  };\r\n\r\n  handleInput = (objProp, e) => {\r\n    this.setState({ [objProp]: e });\r\n  };\r\n  openUpdateOptions = (id) => {\r\n    return (\r\n      <div>\r\n      <h1>hi</h1>\r\n\r\n      {this.handleUpdate(id, this.state.update)}\r\n      </div>\r\n    )\r\n\r\n  }\r\n\r\n  displayDataFromState = () => {\r\n    const { data } = this.state;\r\n    return data.map((shoe) => {\r\n      return (\r\n        <div key={shoe.id}>\r\n          {console.log(shoe)}\r\n          <ShoeCard \r\n          Delete={() => {\r\n            this.handleDelete(shoe.id);\r\n          }}\r\n          Update={() => {\r\n            this.openUpdateOptions(shoe.id);\r\n          }}\r\n          name={shoe.name} \r\n          size={shoe.size} \r\n          price={shoe.price} />\r\n          <Input onChange={(e) => {\r\n            this.handleInput(\"update\", e.target.value);}}\r\n          label=\"Update name\"/>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Shoe App</h1>\r\n        <Input\r\n          onChange={(e) => {\r\n            this.handleInput(\"name\", e.target.value);\r\n          }}\r\n          label=\"name\"\r\n        />\r\n        <Input\r\n          onChange={(e) => {\r\n            this.handleInput(\"price\", e.target.value);\r\n          }}\r\n          label=\"price\"\r\n        />\r\n        <Input\r\n          onChange={(e) => {\r\n            this.handleInput(\"size\", e.target.value);\r\n          }}\r\n          label=\"size\"\r\n        />\r\n        <button onClick={this.handleCreate}>Create</button>\r\n        {this.displayDataFromState()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}