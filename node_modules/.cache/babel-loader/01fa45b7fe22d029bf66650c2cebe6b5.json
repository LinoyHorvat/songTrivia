{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Requester = void 0;\n\nconst got_1 = __importStar(require(\"got\"));\n\nconst Constants_1 = require(\"./Constants\");\n/**\r\n * Refer [got.Options](https://www.npmjs.com/package/got) for documentation of `OptionsOfTextResponseBody`\r\n */\n\n\nclass Requester {\n  constructor(url, options) {\n    this.url = url;\n    this.options = options;\n  }\n\n  get(route, headers) {\n    var _a;\n\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        const {\n          body\n        } = yield got_1.default.get(`${this.url}${route}`, Object.assign(Object.assign({}, this.options), {\n          headers: Object.assign(Object.assign({}, headers), (_a = this.options) === null || _a === void 0 ? void 0 : _a.headers)\n        }));\n        return body;\n      } catch (err) {\n        throw this._handleError(err);\n      }\n    });\n  }\n\n  _handleError(err) {\n    var _a;\n\n    if (err instanceof got_1.RequestError) {\n      if (err.response) {\n        switch (err.response.statusCode) {\n          case 401:\n            return new Error(Constants_1.Constants.INV_TOKEN);\n\n          case 404:\n            return new Error(Constants_1.Constants.NO_RESULT);\n\n          default:\n            return new Error(Constants_1.Constants.ERR_W_MSG(err.response.statusCode, (_a = err.response.statusMessage) !== null && _a !== void 0 ? _a : \"-\"));\n        }\n      }\n    }\n\n    return err;\n  }\n\n}\n\nexports.Requester = Requester;","map":{"version":3,"sources":["/Users/linoyhorvat/Documents/bootcamp/Git/Projects/mid-project/songTrivia/node_modules/genius-lyrics/dist/Requester.js"],"names":["__createBinding","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","prototype","hasOwnProperty","call","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","done","then","apply","exports","Requester","got_1","require","Constants_1","constructor","url","options","route","headers","_a","body","default","assign","err","_handleError","RequestError","response","statusCode","Error","Constants","INV_TOKEN","NO_RESULT","ERR_W_MSG","statusMessage"],"mappings":"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","sourcesContent":["\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Requester = void 0;\r\nconst got_1 = __importStar(require(\"got\"));\r\nconst Constants_1 = require(\"./Constants\");\r\n/**\r\n * Refer [got.Options](https://www.npmjs.com/package/got) for documentation of `OptionsOfTextResponseBody`\r\n */\r\nclass Requester {\r\n    constructor(url, options) {\r\n        this.url = url;\r\n        this.options = options;\r\n    }\r\n    get(route, headers) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const { body } = yield got_1.default.get(`${this.url}${route}`, Object.assign(Object.assign({}, this.options), { headers: Object.assign(Object.assign({}, headers), (_a = this.options) === null || _a === void 0 ? void 0 : _a.headers) }));\r\n                return body;\r\n            }\r\n            catch (err) {\r\n                throw this._handleError(err);\r\n            }\r\n        });\r\n    }\r\n    _handleError(err) {\r\n        var _a;\r\n        if (err instanceof got_1.RequestError) {\r\n            if (err.response) {\r\n                switch (err.response.statusCode) {\r\n                    case 401:\r\n                        return new Error(Constants_1.Constants.INV_TOKEN);\r\n                    case 404:\r\n                        return new Error(Constants_1.Constants.NO_RESULT);\r\n                    default:\r\n                        return new Error(Constants_1.Constants.ERR_W_MSG(err.response.statusCode, (_a = err.response.statusMessage) !== null && _a !== void 0 ? _a : \"-\"));\r\n                }\r\n            }\r\n        }\r\n        return err;\r\n    }\r\n}\r\nexports.Requester = Requester;\r\n"]},"metadata":{},"sourceType":"script"}